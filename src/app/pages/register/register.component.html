<div class="register-form">
  <div class="form-header">
    <h2>Create Account</h2>
    <p>Join thousands of users banking smarter</p>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    <mat-icon>error_outline</mat-icon>
    <span>{{ errorMessage }}</span>
  </div>

  <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
    
    <!-- Personal Information -->
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>First Name</mat-label>
        <input matInput [(ngModel)]="firstName" name="firstName" required>
        <mat-icon matPrefix>person</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Last Name</mat-label>
        <input matInput [(ngModel)]="lastName" name="lastName" required>
        <mat-icon matPrefix>person_outline</mat-icon>
      </mat-form-field>
    </div>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Phone Number</mat-label>
      <input matInput [(ngModel)]="phoneNumber" name="phoneNumber" type="tel">
      <mat-icon matPrefix>phone</mat-icon>
      <mat-hint>Optional</mat-hint>
    </mat-form-field>

    <!-- Account Credentials -->
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Username</mat-label>
        <input matInput [(ngModel)]="username" name="username" required>
        <mat-icon matPrefix>account_circle</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput [(ngModel)]="email" name="email" type="email" required>
        <mat-icon matPrefix>email</mat-icon>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input matInput 
               [type]="hidePassword ? 'password' : 'text'" 
               [(ngModel)]="password" 
               name="password" 
               required>
        <mat-icon matPrefix>lock</mat-icon>
        <button mat-icon-button 
                matSuffix 
                (click)="hidePassword = !hidePassword" 
                type="button">
          <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Confirm Password</mat-label>
        <input matInput 
               [type]="hideConfirmPassword ? 'password' : 'text'" 
               [(ngModel)]="confirmPassword" 
               name="confirmPassword" 
               required>
        <mat-icon matPrefix>lock_outline</mat-icon>
        <button mat-icon-button 
                matSuffix 
                (click)="hideConfirmPassword = !hideConfirmPassword" 
                type="button">
          <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
      </mat-form-field>
    </div>

    <!-- Terms & Conditions -->
    <div class="terms-section">
      <mat-checkbox [(ngModel)]="acceptTerms" name="acceptTerms" required>
        I accept the <a href="#" class="link">Terms and Conditions</a>
      </mat-checkbox>
      
      <mat-checkbox [(ngModel)]="acceptPrivacy" name="acceptPrivacy" required>
        I accept the <a href="#" class="link">Privacy Policy</a>
      </mat-checkbox>
    </div>

    <app-custom-button
      [label]="'Create Account'"
      [loading]="loading"
      [disabled]="loading"
      [fullWidth]="true"
      (clicked)="onSubmit()"
      class="submit-btn">
    </app-custom-button>

    <div class="form-footer">
      <p>
        Already have an account? 
        <a routerLink="/auth/login">Sign In</a>
      </p>
    </div>
  </form>
</div>
